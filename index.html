
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover, interactive-widget=resizes-content">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#000000">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <title>Bridge - Terminal Node</title>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;700&family=JetBrains+Mono:wght@400;800&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Default: Terminal (Green) */
            --bg-color: #000000;
            --bg-rgb: 0, 0, 0;
            --panel-color: #000000;
            --accent-color: #00FF41;
            --accent-rgb: 0, 255, 65;
            --accent-text: #000000;
            --primary-text: #00FF41;
            --primary-rgb: 0, 255, 65;
            --secondary-text: rgba(0, 255, 65, 0.6);
            --bubble-mine: #00FF41;
            --bubble-mine-text: #000000;
            --bubble-other: #001A08;
            --bubble-other-text: #00FF41;
            --input-bg: #000000;
            --input-text: #00FF41;
            --border-color: #00FF41;
            --modal-bg: #000000;
            --modal-text: #00FF41;
            --modal-accent: #00FF41;
            --scanline-opacity: 0.15;

            /* Animation Curves */
            --ease-out-quint: cubic-bezier(0.23, 1, 0.32, 1);
            --ease-in-out-expo: cubic-bezier(1, 0, 0, 1);
            --ease-elastic: cubic-bezier(0.68, -0.55, 0.265, 1.55);
            --ease-tech: cubic-bezier(0.4, 0.0, 0.2, 1);
        }
        
        body.theme-orange {
            --bg-color: #1a0a00;
            --bg-rgb: 26, 10, 0;
            --panel-color: #1a0a00;
            --accent-color: #FF6B00;
            --accent-rgb: 255, 107, 0;
            --accent-text: #000000;
            --primary-text: #FF6B00;
            --primary-rgb: 255, 107, 0;
            --secondary-text: rgba(255, 107, 0, 0.6);
            --bubble-mine: #FF6B00;
            --bubble-mine-text: #000000;
            --bubble-other: #2a1500;
            --bubble-other-text: #FF6B00;
            --input-bg: #1a0a00;
            --input-text: #FF6B00;
            --border-color: #FF6B00;
            --modal-bg: #1a0a00;
            --modal-text: #FF6B00;
            --modal-accent: #FF6B00;
            --scanline-opacity: 0.12;
        }

        body.theme-white {
            --bg-color: #FFFFFF;
            --bg-rgb: 255, 255, 255;
            --panel-color: #FFFFFF;
            --accent-color: #000000;
            --accent-rgb: 0, 0, 0;
            --accent-text: #FFFFFF;
            --primary-text: #000000;
            --primary-rgb: 0, 0, 0;
            --secondary-text: #333333;
            --bubble-mine: #000000;
            --bubble-mine-text: #FFFFFF;
            --bubble-other: #F0F0F0;
            --bubble-other-text: #000000;
            --input-bg: #FFFFFF;
            --input-text: #000000;
            --border-color: #000000;
            --modal-bg: #FFFFFF;
            --modal-text: #000000;
            --modal-accent: #000000;
            --scanline-opacity: 0;
        }

        body.theme-black-white {
            --bg-color: #000000;
            --bg-rgb: 0, 0, 0;
            --panel-color: #000000;
            --accent-color: #FFFFFF;
            --accent-rgb: 255, 255, 255;
            --accent-text: #000000;
            --primary-text: #FFFFFF;
            --primary-rgb: 255, 255, 255;
            --secondary-text: rgba(255, 255, 255, 0.6);
            --bubble-mine: #FFFFFF;
            --bubble-mine-text: #000000;
            --bubble-other: #111111;
            --bubble-other-text: #FFFFFF;
            --input-bg: #000000;
            --input-text: #FFFFFF;
            --border-color: #FFFFFF;
            --modal-bg: #000000;
            --modal-text: #FFFFFF;
            --modal-accent: #FFFFFF;
            --scanline-opacity: 0.1;
        }

        body.theme-cyberpunk {
            --bg-color: #0b0014;
            --bg-rgb: 11, 0, 20;
            --panel-color: #0b0014;
            --accent-color: #ff0099;
            --accent-rgb: 255, 0, 153;
            --accent-text: #ffffff;
            --primary-text: #00f3ff;
            --primary-rgb: 0, 243, 255;
            --secondary-text: rgba(0, 243, 255, 0.6);
            --bubble-mine: #ff0099;
            --bubble-mine-text: #ffffff;
            --bubble-other: #1a0024;
            --bubble-other-text: #00f3ff;
            --input-bg: #0b0014;
            --input-text: #00f3ff;
            --border-color: #00f3ff;
            --modal-bg: #0b0014;
            --modal-text: #00f3ff;
            --modal-accent: #ff0099;
            --scanline-opacity: 0.15;
        }

        body.theme-sunset {
            --bg-color: #201020;
            --bg-rgb: 32, 16, 32;
            --panel-color: #201020;
            --accent-color: #FF0055;
            --accent-rgb: 255, 0, 85;
            --accent-text: #ffffff;
            --primary-text: #F8D210;
            --primary-rgb: 248, 210, 16;
            --secondary-text: rgba(248, 210, 16, 0.6);
            --bubble-mine: #FF0055;
            --bubble-mine-text: #ffffff;
            --bubble-other: #351a2d;
            --bubble-other-text: #F8D210;
            --input-bg: #201020;
            --input-text: #F8D210;
            --border-color: #FF0055;
            --modal-bg: #201020;
            --modal-text: #F8D210;
            --modal-accent: #FF0055;
            --scanline-opacity: 0.1;
        }

        body.theme-ocean {
            --bg-color: #001e26;
            --bg-rgb: 0, 30, 38;
            --panel-color: #001e26;
            --accent-color: #00ffaa;
            --accent-rgb: 0, 255, 170;
            --accent-text: #001e26;
            --primary-text: #4dd2ff;
            --primary-rgb: 77, 210, 255;
            --secondary-text: rgba(77, 210, 255, 0.6);
            --bubble-mine: #00ffaa;
            --bubble-mine-text: #001e26;
            --bubble-other: #003642;
            --bubble-other-text: #4dd2ff;
            --input-bg: #001e26;
            --input-text: #4dd2ff;
            --border-color: #00ffaa;
            --modal-bg: #001e26;
            --modal-text: #4dd2ff;
            --modal-accent: #00ffaa;
            --scanline-opacity: 0.1;
        }

        body.theme-sand {
            --bg-color: #f4e6cf;
            --bg-rgb: 244, 230, 207;
            --panel-color: #f4e6cf;
            --accent-color: #5f341d;
            --accent-rgb: 95, 52, 29;
            --accent-text: #fdf7ed;
            --primary-text: #3d2314;
            --primary-rgb: 61, 35, 20;
            --secondary-text: rgba(61, 35, 20, 0.75);
            --bubble-mine: #7a4b2f;
            --bubble-mine-text: #fdf7ed;
            --bubble-other: #e1ccab;
            --bubble-other-text: #3d2314;
            --input-bg: #f4e6cf;
            --input-text: #3d2314;
            --border-color: #5f341d;
            --modal-bg: #f4e6cf;
            --modal-text: #3d2314;
            --modal-accent: #5f341d;
            --scanline-opacity: 0.04;
        }

        body.theme-forest {
            --bg-color: #0f1b12;
            --bg-rgb: 15, 27, 18;
            --panel-color: #0f1b12;
            --accent-color: #a3e635;
            --accent-rgb: 163, 230, 53;
            --accent-text: #102117;
            --primary-text: #d9f99d;
            --primary-rgb: 217, 249, 157;
            --secondary-text: rgba(217, 249, 157, 0.65);
            --bubble-mine: #a3e635;
            --bubble-mine-text: #102117;
            --bubble-other: #1a2b1d;
            --bubble-other-text: #d9f99d;
            --input-bg: #0f1b12;
            --input-text: #d9f99d;
            --border-color: #a3e635;
            --modal-bg: #0f1b12;
            --modal-text: #d9f99d;
            --modal-accent: #a3e635;
            --scanline-opacity: 0.08;
        }


        /* FORCE SQUARE AESTHETIC GLOBALLY */
        * {
            border-radius: 0 !important;
        }

        body {
            font-family: 'Fira Code', 'JetBrains Mono', monospace;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--primary-text);
            overflow: hidden;
            -webkit-tap-highlight-color: transparent;
            transition: background-color 0.4s var(--ease-out-quint), color 0.4s var(--ease-out-quint);
            letter-spacing: 0.01em;
            
            /* Mobile Optimizations */
            overscroll-behavior-y: none;
            touch-action: manipulation;
            -webkit-user-select: none;
            user-select: none;
        }
        
        .selectable-text {
            -webkit-user-select: text;
            user-select: text;
        }

        ::selection {
            background-color: var(--accent-color);
            color: var(--accent-text);
        }

        .pt-safe { padding-top: calc(var(--safe-top-base, 0px) + env(safe-area-inset-top)); }
        .pb-safe { padding-bottom: calc(var(--safe-bottom-base, 0px) + env(safe-area-inset-bottom)); }
        .pl-safe { padding-left: calc(var(--safe-left-base, 0px) + env(safe-area-inset-left)); }
        .pr-safe { padding-right: calc(var(--safe-right-base, 0px) + env(safe-area-inset-right)); }

        /* --- ANIMATIONS --- */

        /* Global Tap Effect */
        .tap-effect {
            position: fixed;
            width: 40px;
            height: 40px;
            border: 2px solid var(--accent-color);
            transform: translate(-50%, -50%) scale(0.5);
            opacity: 0;
            pointer-events: none;
            z-index: 10000;
            animation: tap-expand 0.5s var(--ease-out-quint) forwards;
            box-shadow: 0 0 15px var(--accent-color);
        }

        @keyframes tap-expand {
            0% { transform: translate(-50%, -50%) scale(0.2) rotate(0deg); opacity: 1; border-width: 4px; }
            100% { transform: translate(-50%, -50%) scale(2.5) rotate(45deg); opacity: 0; border-width: 0px; }
        }

        /* Scanline Movement */
        @keyframes scanline-move {
            0% { background-position: 0 0; }
            100% { background-position: 0 100vh; }
        }

        body::after {
            content: " ";
            display: block;
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            right: 0;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
            z-index: 9999;
            background-size: 100% 4px, 3px 100%;
            pointer-events: none;
            opacity: var(--scanline-opacity);
            animation: scanline-move 8s linear infinite;
        }

        .custom-scroll {
            scrollbar-width: thin;
            scrollbar-color: var(--accent-color) transparent;
        }
        .custom-scroll::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background-color: var(--accent-color);
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        button { text-transform: uppercase; font-weight: 800; letter-spacing: 0.02em; cursor: pointer; }
        input, textarea { outline: none; background: transparent; color: inherit; font-family: inherit; }

        input:-webkit-autofill,
        input:-webkit-autofill:hover, 
        input:-webkit-autofill:focus, 
        input:-webkit-autofill:active {
            -webkit-box-shadow: 0 0 0 1000px var(--bg-color) inset !important;
            -webkit-text-fill-color: var(--primary-text) !important;
            caret-color: var(--primary-text) !important;
            transition: background-color 5000s ease-in-out 0s;
        }

        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0; }
            100% { opacity: 1; }
        }
        .cursor-blink {
            display: inline-block;
            width: 8px;
            height: 1.2em;
            background: var(--primary-text);
            animation: blink 1s step-end infinite;
            vertical-align: middle;
            margin-left: 2px;
        }

        @keyframes pulse-highlight {
            0% { background-color: transparent; }
            50% { background-color: rgba(var(--accent-rgb), 0.2); }
            100% { background-color: transparent; }
        }
        .pulse-highlight {
            animation: pulse-highlight 2s var(--ease-out-quint);
        }
    </style>

</head>
<body class="theme-bg">
    <div id="root" class="h-full"></div>
    <script type="module" src="/index.tsx"></script>
</body>
</html>
